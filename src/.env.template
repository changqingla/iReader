# =====================================
# ğŸ” Reader API é…ç½®æ¨¡æ¿
# å¤åˆ¶æ­¤æ–‡ä»¶ä¸º .env å¹¶ä¿®æ”¹é…ç½®å€¼
# =====================================

# ============================================================================
# åº”ç”¨åŸºç¡€é…ç½®
# ============================================================================
APP_NAME=Reader API
APP_VERSION=1.0.0
DEBUG=False
API_PREFIX=/api

# CORS åŸŸåç™½åå•ï¼ˆJSON æ•°ç»„æ ¼å¼ï¼‰
CORS_ORIGINS=["http://localhost:3003","*"]

# ============================================================================
# æ•°æ®åº“é…ç½®
# ============================================================================
DATABASE_URL=postgresql+asyncpg://reader:reader_dev_password@reader_postgres:5432/reader_qaq
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ============================================================================
# Redis é…ç½®
# ============================================================================
REDIS_URL=redis://reader:agent123@host.docker.internal:6378/2

# ============================================================================
# MinIO/S3 å¯¹è±¡å­˜å‚¨é…ç½®
# ============================================================================
MINIO_ENDPOINT=host.docker.internal:9000
MINIO_PUBLIC_ENDPOINT=nginx
MINIO_ACCESS_KEY=reader
MINIO_SECRET_KEY=reader_dev_password
MINIO_BUCKET=reader-uploads
MINIO_SECURE=False

# ============================================================================
# JWT è®¤è¯é…ç½®
# ============================================================================
SECRET_KEY=xxxx
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080
REFRESH_TOKEN_EXPIRE_DAYS=30

# ============================================================================
# ä¸Šä¼ é™åˆ¶é…ç½®
# ============================================================================
MAX_UPLOAD_SIZE=104857600
# å¤´åƒæœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
MAX_AVATAR_SIZE=10485760

# ============================================================================
# é€Ÿç‡é™åˆ¶é…ç½®
# ============================================================================
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# MinerU æ–‡æ¡£è§£ææœåŠ¡é…ç½®
# ============================================================================
MINERU_API_BASE_URL=https://mineru.net/api/v4
MINERU_API_TOKEN=your-mineru-api-token
MINERU_MODEL_VERSION=vlm

# ============================================================================
# RAG Agent æ–‡æ¡£å¤„ç†æœåŠ¡é…ç½®
# ============================================================================
DOC_PROCESS_BASE_URL=http://host.docker.internal:7791
AGENT_SYSTEM_URL=http://host.docker.internal:8009

# ============================================================================
# Elasticsearch é…ç½®
# ============================================================================
ES_HOST=http://elasticsearch:9200

# ============================================================================
# Embedding æ¨¡å‹é…ç½®
# ============================================================================
EMBEDDING_MODEL_FACTORY=Tongyi-Qianwen
EMBEDDING_MODEL_NAME=text-embedding-v4
EMBEDDING_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
EMBEDDING_API_KEY=your-embedding-api-key

# ============================================================================
# Rerank æ¨¡å‹é…ç½®
# ============================================================================
RERANK_FACTORY=Tongyi-Qianwen
RERANK_MODEL_NAME=qwen3-rerank
RERANK_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
RERANK_API_KEY=your-rerank-api-key

# ============================================================================
# æ–‡æ¡£å¤„ç†é…ç½®
# ============================================================================
DEFAULT_CHUNK_TOKEN_NUM=512
DEFAULT_PARSER_TYPE=general

# ============================================================================
# æœç´¢é…ç½®
# ============================================================================
DEFAULT_TOP_N=8
SIMILARITY_THRESHOLD=0.01
VECTOR_SIMILARITY_WEIGHT=0.3

# ============================================================================
# LLM é…ç½® - æ™®é€šç”¨æˆ·
# ============================================================================
LLM_MODEL_NAME=qwen-plus
LLM_MODEL_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
LLM_API_KEY=your-llm-api-key
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.3
LLM_MAX_TOKENS=100000
LLM_MAX_CONTEXT_TOKENS=128000

# ============================================================================
# LLM é…ç½® - ä¼šå‘˜ç”¨æˆ·ï¼ˆæ›´å¼ºå¤§çš„æ¨¡å‹ï¼‰
# ============================================================================
MEMBER_LLM_MODEL_NAME=qwen3-max
MEMBER_LLM_MODEL_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
MEMBER_LLM_API_KEY=your-member-llm-api-key
MEMBER_LLM_MAX_CONTEXT_TOKENS=128000

# ============================================================================
# Recall é…ç½®
# ============================================================================
RECALL_API_URL=http://host.docker.internal:7791/recall
RECALL_TOP_N=10
RECALL_SIMILARITY_THRESHOLD=0.01
RECALL_VECTOR_SIMILARITY_WEIGHT=0.3
RECALL_USE_RERANK=False

# ============================================================================
# æœç´¢å¼•æ“é…ç½®
# ============================================================================
SEARCH_ENGINE=bocha
SEARCH_ENGINE_API_KEY=your-search-engine-api-key

# ============================================================================
# é‚®ä»¶æœåŠ¡é…ç½®ï¼ˆé˜¿é‡Œäº‘é‚®ä»¶æ¨é€ï¼‰
# ============================================================================
SMTP_HOST=smtpdm.aliyun.com
SMTP_PORT=465
SMTP_USE_SSL=True
SMTP_USERNAME=xxxx
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_NAME=Reader AI
SMTP_TIMEOUT=10

# ============================================================================
# HTTP å®¢æˆ·ç«¯è¶…æ—¶é…ç½®ï¼ˆç§’ï¼‰
# ============================================================================
HTTP_DEFAULT_TIMEOUT=60.0
HTTP_UPLOAD_TIMEOUT=300.0
HTTP_DOWNLOAD_TIMEOUT=120.0

# ============================================================================
# å®‰å…¨é…ç½®
# ============================================================================
MAX_PASSWORD_LENGTH=72

# ============================================================================
# ç”¨æˆ·é»˜è®¤é…ç½®
# ============================================================================
# æ–°ç”¨æˆ·é»˜è®¤æ–‡ä»¶å¤¹ï¼ˆJSON æ•°ç»„æ ¼å¼ï¼‰
DEFAULT_USER_FOLDERS=["å­¦ä¹ ","å·¥ä½œ","ç”Ÿæ´»"]
# æ–°ç”¨æˆ·é»˜è®¤çŸ¥è¯†åº“åç§°
DEFAULT_KB_NAME=æˆ‘çš„çŸ¥è¯†åº“
DEFAULT_KB_DESCRIPTION=è¿™æ˜¯æ‚¨çš„ç¬¬ä¸€ä¸ªçŸ¥è¯†åº“ï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œä¸Šä¼ å’Œç®¡ç†æ–‡æ¡£
DEFAULT_KB_CATEGORY=å…¶å®ƒ
